(function(t){function e(e){for(var r,i,s=e[0],u=e[1],c=e[2],l=0,p=[];l<s.length;l++)i=s[l],o[i]&&p.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,s=1;s<a.length;s++){var u=a[s];0!==o[u]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},o={app:0},n=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="http://ec2-52-15-180-127.us-east-2.compute.amazonaws.com/teste-se/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=u;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("c21b"),o=a.n(r);o.a},"0826":function(t,e,a){"use strict";var r=a("35a5"),o=a.n(r);o.a},"35a5":function(t,e,a){},3693:function(t,e,a){"use strict";var r=a("9644"),o=a.n(r);o.a},5482:function(t,e,a){"use strict";var r=a("ada3"),o=a.n(r);o.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var r=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Topo"),a("div",{attrs:{id:"area-content"}},[a("router-view")],1)],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{attrs:{id:"header"}},[a("router-link",{attrs:{to:"/"}},[a("h2",[t._v("Desafio SoftExpert ")])]),a("menu",{staticClass:"menu"},[a("router-link",{attrs:{to:"/"}},[a("font-awesome-icon",{attrs:{icon:"shopping-cart"}}),a("span",[t._v(" Vender ")])],1),a("router-link",{attrs:{to:"/estoque"}},[a("font-awesome-icon",{attrs:{icon:"boxes"}}),a("span",[t._v(" Gerenciar Estoque ")])],1)],1),a("h4",[t._v("Eduardo Renz ")])],1)},s=[],u={name:"Topo",props:{msg:String}},c=u,d=(a("3693"),a("2877")),l=Object(d["a"])(c,i,s,!1,null,"5c8c6835",null);l.options.__file="Topo.vue";var p=l.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"venda"}},[a("Tabela",{staticClass:"tabela",attrs:{lista:t.lista},on:{remover:t.remover}}),a("h2",{staticClass:"total"},[t._v("Total a pagar:   "),a("strong",[t._v("  R$"+t._s(t.masked_preco(t.total))+"   ")]),t._v("  (R$ "+t._s(t.masked_preco(t.imposto))+" de imposto)")]),a("div",{staticClass:"coletor"},[a("div",{attrs:{id:"group-coleta"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.coleta,expression:"coleta"}],staticClass:"input-coleta",attrs:{type:"text",placeholder:"Insira o código do item"},domProps:{value:t.coleta},on:{keyup:function(e){return"button"in e||13===e.keyCode?t.addItem(e):null},input:function(e){e.target.composing||(t.coleta=e.target.value)}}}),a("input",{staticClass:"btn btn-success",attrs:{type:"button",value:"OK"},on:{click:t.addItem}})]),a("input",{staticClass:"btn btn-warning",attrs:{type:"button",value:"Finalizar compra",disabled:0==t.lista.length||t.excedido},on:{click:function(e){t.$modal.show("finalizar")}}})]),a("modal",{attrs:{name:"finalizar",height:"auto",width:"30%"}},[a("div",{attrs:{id:"container-cupom"}},[a("h2",[t._v("Resumo da compra")]),a("div",{attrs:{id:"cupom"}},[a("h3",[t._v("Desafio Soft Expert ")]),a("p",[t._v(" Data da Emissão: "+t._s((new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"})))]),a("table",[a("thead",[a("th",[t._v("Item(qtd)")]),a("th",[t._v("Preço Unit")]),a("th",[t._v("Tributação")]),a("th",[t._v("Total")])]),a("tbody",t._l(t.lista,function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.descricao)+" (x"+t._s(e.quantidade.toString().padStart(2,"0"))+")   ")]),a("td",[t._v("R$"+t._s(t.masked_preco(e.preco+e.preco*(e.perc_tributacao/100)))+" ")]),a("td",[t._v("R$"+t._s(t.masked_preco(e.preco*(e.perc_tributacao/100)))+"  ")]),a("td",[t._v("R$"+t._s(t.masked_preco((e.preco+e.preco*(e.perc_tributacao/100))*e.quantidade))+"  ")])])})),a("tfoot",[a("td",{attrs:{colspan:"3"}},[a("strong",[t._v("Total a pagar: R$"+t._s(t.masked_preco(t.total)))]),t._v("  (Impostos: R$"+t._s(t.masked_preco(t.imposto))+") ")])])])]),a("input",{staticClass:"btn btn-success",attrs:{type:"button",value:"Concluir compra"},on:{click:function(e){t.$modal.hide("finalizar"),t.concluir()}}})])])],1)},m=[],f=(a("6b54"),a("a481"),a("ac6a"),a("96cf"),a("3040")),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",[t._m(0),a("tbody",t._l(t.lista,function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(r+1))]),a("td",[a("small",[t._v("("+t._s(e.id)+")")]),t._v(" "+t._s(e.descricao)+" ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.quantidade,expression:"item.quantidade"}],attrs:{type:"number",min:"1",max:e.estoque},domProps:{value:e.quantidade},on:{input:function(a){a.target.composing||t.$set(e,"quantidade",a.target.value)}}})]),a("td",[t._v("R$ "+t._s(t.masked_preco(e.preco+e.preco*(e.perc_tributacao/100))))]),a("td",[t._v(" "+t._s(e.perc_tributacao)+"% (R$ "+t._s(t.masked_preco(t.perc_tributado(e.preco,e.perc_tributacao)))+" ) ")]),a("td",[a("strong",[t._v("R$ "+t._s(t.masked_preco((e.preco+e.preco*(e.perc_tributacao/100))*e.quantidade)))])]),a("td",[a("button",{staticClass:"btn btn-danger",on:{click:function(e){t.$emit("remover",r)}}},[t._v("X")])])])}))])])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),a("th",[t._v("Produto")]),a("th",[t._v("Quantidade")]),a("th",[t._v("Preço Unitário")]),a("th",[t._v("Tributação")]),a("th",[t._v("Total")]),a("th",[t._v("Ações")])])])}],_={props:["lista"],data:function(){return{valor:2}},components:{},methods:{masked_preco:function(t){return parseFloat(t).toFixed(2).toString().replace(".",",")},perc_tributado:function(t,e){return t*(e/100)}}},b=_,C=(a("0826"),Object(d["a"])(b,g,h,!1,null,"80dff6dc",null));C.options.__file="TabelaItens.vue";var x=C.exports,w=a("bc3a"),y=a.n(w),P=function(){return y.a.create({baseURL:"http://ec2-52-15-180-127.us-east-2.compute.amazonaws.com/teste-se/php/",headers:{}})},k={name:"Venda",props:{msg:String},components:{Tabela:x},data:function(){return{coleta:"",lista:[]}},methods:{addItem:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e,a,r,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P().get("/produtos/produtos?id="+this.coleta);case 3:if(e=t.sent,""!=this.coleta.trim()){t.next=6;break}return t.abrupt("return");case 6:if(this.coleta="",0!=e.data.length){t.next=10;break}return this.$toasted.show("Produto não encontrado"),t.abrupt("return");case 10:if(a=e.data[0],0!=a.estoque){t.next=14;break}return this.$toasted.show("Estoque esgotado para este produto!"),t.abrupt("return");case 14:if(r=this.lista.filter(function(t){return t.id==a.id}),!(r.length>0)){t.next=18;break}return this.lista.forEach(function(t,e){t.id==a.id&&t.quantidade<t.estoque?(o.$toasted.show("Quantidade de ".concat(a.descricao," Adicionada")),o.lista[e].quantidade++):t.id==a.id&&t.quantidade>=t.estoque&&alert("Atingido estoque máximo de ".concat(a.descricao,"! "))}),t.abrupt("return");case 18:a.preco=parseFloat(a.preco),a.perc_tributacao=parseFloat(a.perc_tributacao),a.quantidade=1,this.lista.push(a),t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](0),alert("Erro ao coletar produto",t.t0);case 27:case"end":return t.stop()}},t,this,[[0,24]])}));return function(){return t.apply(this,arguments)}}(),masked_preco:function(t){return parseFloat(t).toFixed(2).toString().replace(".",",")},remover:function(t){this.lista.splice(t,1)},concluir:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.lista.map(function(t){return{id:t.id,quantidade:t.quantidade}}),t.prev=1,t.next=4,P().post("compra",e);case 4:a=t.sent,a.data.status&&"ok"==a.data.status?(this.$toasted.show("Compra registrada com sucesso!"),this.lista=[]):alert("houve um erro ao registrar compra",a.data.status),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),alert("erro ao processar compra",t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(){return t.apply(this,arguments)}}()},computed:{total:function(){this.excedido&&alert("Um dos produtos excede o estoque!");var t=this.lista.map(function(t){return(t.preco+t.preco*(t.perc_tributacao/100))*t.quantidade}),e=t.reduce(function(t,e){return t+e},0);return e},imposto:function(){var t=this.lista.map(function(t){return t.preco*(t.perc_tributacao/100)*t.quantidade}),e=t.reduce(function(t,e){return t+e},0);return e},excedido:function(){if(this.lista.length>0){var t=this.lista.filter(function(t){return t.quantidade>t.estoque});return t.length>0}return!1}}},q=k,$=(a("ce6d"),Object(d["a"])(q,v,m,!1,null,"3f9394b0",null));$.options.__file="Venda.vue";var R=$.exports,N={name:"app",components:{Venda:R,Topo:p}},E=N,O=(a("034f"),Object(d["a"])(E,o,n,!1,null,null,null));O.options.__file="App.vue";var S=O.exports,j=a("8c4f"),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"estoque"}},[a("div",{staticClass:"card",attrs:{id:"tipos"}},[a("h2",{staticClass:"card-header"},[t._v("\n            Categorias de produtos \n        ")]),a("div",{attrs:{id:"list-tipos"}},[a("div",{staticClass:"toolbar"},[a("button",{staticClass:"btn btn-success",on:{click:function(e){t.$modal.show("addNovaCategoria")}}},[t._v("Adicionar Nova Categoria")])]),a("hr"),a("div",{staticClass:"card-body"},[a("fieldset",{staticClass:"form-group"},[a("label",[t._v("Pesquisar")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.categoria,expression:"filtros.categoria"}],attrs:{type:"text",placeholder:"ex: Bebidas"},domProps:{value:t.filtros.categoria},on:{input:function(e){e.target.composing||t.$set(t.filtros,"categoria",e.target.value)}}})]),a("table",[t._m(0),a("tbody",[t._l(t.filteredCategoria.slice(0,t.filtros.limiteCategoria),function(e){return a("tr",{key:e.id},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.categoria,expression:"item.categoria"}],attrs:{type:"text"},domProps:{value:e.categoria},on:{input:function(a){a.target.composing||t.$set(e,"categoria",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.perc_tributacao,expression:"item.perc_tributacao"}],attrs:{type:"number",step:"0.01"},domProps:{value:e.perc_tributacao},on:{input:function(a){a.target.composing||t.$set(e,"perc_tributacao",a.target.value)}}})]),a("td",{staticClass:"acoes"},[a("button",{staticClass:"btn btn-warning",attrs:{title:"Atualizar"},on:{click:function(a){t.putCategoria(e)}}},[a("font-awesome-icon",{attrs:{icon:"sync"}})],1),0==e.id||e.locked?t._e():a("button",{staticClass:"btn btn-danger",attrs:{title:"Excluir"},on:{click:function(a){t.deleteCategoria(e)}}},[t._v("X")])])])}),a("tfoot",[a("tr",[a("th",[t._v(t._s(t.categorias.slice(0,t.filtros.limiteCategoria).length)+" de "+t._s(t.categorias.length))])])])],2)])])])]),a("div",{staticClass:"card",attrs:{id:"produtos"}},[a("h2",{staticClass:"card-header"},[t._v("\n            Cadastrar/Gerenciar Estoque\n        ")]),a("div",{attrs:{id:"list-estoques"}},[a("div",{staticClass:"toolbar toolbar-produto"},[a("button",{staticClass:"btn btn-success",on:{click:function(e){t.$modal.show("addNovoProdutoModal")}}},[t._v("Cadastrar novo produto")]),a("span",{staticClass:"smallInfo"},[t._v(t._s(t.produtos.length)+" Produtos encontrados")]),a("form",{attrs:{id:"pesquisa-produto"},on:{submit:function(e){e.preventDefault(),t.pesquisarProduto()}}},[a("label",[t._v("Pesquisar produto ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filtros.produto,expression:"filtros.produto"}],attrs:{type:"text",placeholder:"ex: pão "},domProps:{value:t.filtros.produto},on:{input:function(e){e.target.composing||t.$set(t.filtros,"produto",e.target.value)}}}),a("button",{staticClass:"btn btn-success",attrs:{title:"Pesquisar"}},[a("font-awesome-icon",{attrs:{icon:"search"}})],1)])])]),a("hr"),a("div",{staticClass:"card-body"},[0==t.produtos.length?a("h1",[t._v("Nenhum produto encontrado")]):t._e(),t.produtos.length>0?a("table",[t._m(1),a("tbody",t._l(t.produtos,function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.id.toString()))]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.descricao,expression:"produto.descricao"}],staticStyle:{width:"100%"},attrs:{type:"text"},domProps:{value:e.descricao},on:{input:function(a){a.target.composing||t.$set(e,"descricao",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.preco,expression:"produto.preco"}],attrs:{type:"number",step:"0.01"},domProps:{value:e.preco},on:{input:function(a){a.target.composing||t.$set(e,"preco",a.target.value)}}}),a("small",{staticClass:"smallInfo"},[t._v("\n                            (R$ "+t._s(t.masked_preco(t.get_valorLiquido(e)))+") \n                            ")])]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.estoque,expression:"produto.estoque"}],attrs:{type:"number"},domProps:{value:e.estoque},on:{input:function(a){a.target.composing||t.$set(e,"estoque",a.target.value)}}})]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.categoria_id,expression:"produto.categoria_id"}],on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(e,"categoria_id",a.target.multiple?r:r[0])}}},t._l(t.categorias,function(r){return a("option",{key:r.id,domProps:{value:r.id,selected:e.categoria_id==r.id}},[t._v("\n                                    "+t._s(r.categoria)+"\n                                ")])}))]),a("td",[a("button",{staticClass:"btn btn-warning",attrs:{title:"Atualizar"},on:{click:function(a){t.putProduto(e)}}},[a("font-awesome-icon",{attrs:{icon:"sync"}})],1)])])}))]):t._e()])]),a("modal",{attrs:{name:"addNovaCategoria",height:"auto"}},[a("form",{staticClass:"card-body form",attrs:{name:"novaCat"},on:{submit:function(e){e.preventDefault(),t.addCategoria(this)}}},[a("fieldset",{staticClass:"form-group"},[a("label",[t._v("Categoria")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.novaCategoria.categoria,expression:"novaCategoria.categoria"}],attrs:{type:"text",placeholder:"Nome do Tipo/Categoria",name:"nome",required:""},domProps:{value:t.novaCategoria.categoria},on:{input:function(e){e.target.composing||t.$set(t.novaCategoria,"categoria",e.target.value)}}})]),a("fieldset",{staticClass:"form-group"},[a("label",[t._v("Percentual de tributação")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.novaCategoria.perc_tributacao,expression:"novaCategoria.perc_tributacao"}],attrs:{type:"number",min:"0",max:"100",name:"perc_tributacao",step:"0.01",required:""},domProps:{value:t.novaCategoria.perc_tributacao},on:{input:function(e){e.target.composing||t.$set(t.novaCategoria,"perc_tributacao",e.target.value)}}})]),a("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Adicionar")]),a("button",{staticClass:"btn btn-warning",staticStyle:{"margin-left":"5px"},attrs:{type:"button"},on:{click:function(e){t.$modal.hide("addNovaCategoria"),t.$toasted.show("Cancelado")}}},[t._v("Cancelar")])])]),a("modal",{attrs:{name:"addNovoProdutoModal",height:"auto"}},[a("form",{staticClass:"card-body form",on:{submit:function(e){e.preventDefault(),t.addProduto()}}},[a("fieldset",{staticClass:"form-group"},[a("label",[t._v("Descrição")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.novoProduto.descricao,expression:"novoProduto.descricao"}],attrs:{type:"text",placeholder:"Nome do produto ou descrição",required:""},domProps:{value:t.novoProduto.descricao},on:{input:function(e){e.target.composing||t.$set(t.novoProduto,"descricao",e.target.value)}}})]),a("fieldset",{staticClass:"form-group"},[a("label",[t._v("Preço (R$)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.novoProduto.preco,expression:"novoProduto.preco"}],attrs:{type:"number",placeholder:"Preço sem imposto",step:"0.01",required:""},domProps:{value:t.novoProduto.preco},on:{input:function(e){e.target.composing||t.$set(t.novoProduto,"preco",e.target.value)}}})]),a("fieldset",{staticClass:"form-group"},[a("label",[t._v("Estoque Inicial")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.novoProduto.estoque,expression:"novoProduto.estoque"}],attrs:{type:"number",min:"0"},domProps:{value:t.novoProduto.estoque},on:{input:function(e){e.target.composing||t.$set(t.novoProduto,"estoque",e.target.value)}}})]),a("fieldset",{staticClass:"form-group"},[a("label",[t._v("Categoria")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.novoProduto.categoria_id,expression:"novoProduto.categoria_id"}],attrs:{name:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.novoProduto,"categoria_id",e.target.multiple?a:a[0])}}},t._l(t.categorias,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.categoria)+" ("+t._s(e.perc_tributacao)+"%) ")])}))]),a("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Adicionar")]),a("button",{staticClass:"btn btn-warning",staticStyle:{"margin-left":"5px"},attrs:{type:"button"},on:{click:function(e){t.$modal.hide("addNovoProdutoModal"),t.$toasted.show("Terminado")}}},[t._v("Terminar")])])])],1)},A=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Categoria")]),a("th",[t._v("Tributação(%)")]),a("th",[t._v("Ação")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Código")]),a("th",[t._v("Produto")]),a("th",[t._v("Preço liquido")]),a("th",[t._v("Disponível")]),a("th",[t._v("Categoria")]),a("th",[t._v("Ação")])])])}],z={data:function(){return{filtros:{limiteCategoria:10,limiteEstoque:100,categoria:"",produto:""},categorias:[],produtos:[],novaCategoria:{id:null,categoria:"",perc_tributacao:0},novoProduto:{id:null,descricao:"",categoria_id:0,preco:0,estoque:0}}},methods:{getCategorias:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P().get("/categorias/categorias");case 3:e=t.sent,this.categorias=e.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),alert("erro ao buscar categorias");case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),addCategoria:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,P().post("/categorias/categorias",this.novaCategoria);case 2:if(e=t.sent,!e.data.status||"ok"==e.data.status){t.next=6;break}return alert("Erro ao inserir categoria",e.data.mensagem),t.abrupt("return");case 6:this.novaCategoria.id=e.data.id,this.categorias.push(JSON.parse(JSON.stringify(this.novaCategoria))),this.$toasted.show("Categoria '".concat(this.novaCategoria.categoria,"' cadastrada")),this.novaCategoria.categoria="",this.novaCategoria.perc_tributacao=0,this.$modal.hide("addNovaCategoria");case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),putCategoria:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,P().put("/categorias/categorias",e);case 2:if(a=t.sent,!a.data.status||"ok"==a.data.status){t.next=6;break}return alert("Erro ao alterar categoria",a.data.mensagem),t.abrupt("return");case 6:this.$toasted.show("Categoria '".concat(e.categoria,"' alterada"));case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),deleteCategoria:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,P().delete("/categorias/categorias?id=".concat(e.id));case 2:if(a=t.sent,!a.data.status||"ok"==a.data.status){t.next=6;break}return alert("Erro ao deletar categoria",a.data.mensagem),t.abrupt("return");case 6:this.$toasted.show("Categoria '".concat(e.categoria,"' excluida")),this.categorias=this.categorias.filter(function(t){return t.id!=e.id});case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),addProduto:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,P().post("/produtos/produtos",this.novoProduto);case 2:if(e=t.sent,!e.data.status||"ok"==e.data.status){t.next=6;break}return alert("Erro ao inserir produto",e.data.mensagem),t.abrupt("return");case 6:this.novoProduto.id=e.data.id,this.produtos.push(JSON.parse(JSON.stringify(this.novoProduto))),this.novoProduto.descricao="",this.novoProduto.preco=0,this.novoProduto.categoria_id=0,this.novoProduto.estoque=0,this.$toasted.show("Produto '".concat(this.novoProduto.descricao,"' cadastrado")),this.$modal.hide("addNovoProduto");case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),pesquisarProduto:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,P().get("http://ec2-52-15-180-127.us-east-2.compute.amazonaws.com/teste-se/php/produtos/pesquisar?q=".concat(this.filtros.produto));case 2:if(e=t.sent,!e.data.status||"ok"==e.data.status){t.next=6;break}return alert("Erro ao pesquisar",e.data.mensagem),t.abrupt("return");case 6:this.produtos=e.data;case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),putProduto:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,P().put("/produtos/produtos",e);case 2:if(a=t.sent,!a.data.status||"ok"==a.data.status){t.next=6;break}return alert("Erro ao atualizar produto",a.data.mensagem),t.abrupt("return");case 6:return t.next=8,this.getCategorias();case 8:this.$toasted.show("Produto '".concat(e.descricao,"' atualizado"));case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),masked_preco:function(t){return t.toFixed(2).toString().replace(".",",")},hide:function(t){this.$modal.hide(t)},findByID:function(t,e){var a=t.filter(function(t){return t.id==e}),r=a.lenght>0?a[0]:this.categorias[0];return r},get_valorLiquido:function(t){var e=this.categorias.filter(function(e){return e.id==t.categoria_id}),a=parseFloat(t.preco);return a+a*(e[0].perc_tributacao/100)}},computed:{filteredCategoria:function(){var t=this;return this.categorias.filter(function(e){return e.categoria.toLowerCase().indexOf(t.filtros.categoria.toLowerCase())>-1})}},beforeMount:function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.getCategorias(),t.next=4,P().get("/produtos/produtos");case 4:e=t.sent,this.produtos=e.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),alert("erro ao buscar categorias: "+t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}()},I=z,D=(a("5482"),Object(d["a"])(I,T,A,!1,null,"34295e5b",null));D.options.__file="Estoque.vue";var F=D.exports;r["a"].use(j["a"]);var M=new j["a"]({routes:[{path:"/",name:"Vendas",component:R},{path:"/estoque",name:"Estoque",component:F}]}),J=M,L=a("ecee"),V=a("c074"),U=a("7a55"),B=a("1881"),G=a.n(B),Q=a("a65d"),X=a.n(Q);r["a"].use(X.a,{position:"bottom-center",duration:3e3}),r["a"].use(G.a),L["library"].add(V["d"],V["a"],V["b"],V["c"],V["e"]),r["a"].component("font-awesome-icon",U["FontAwesomeIcon"]),r["a"].use(J),r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(S)},router:J}).$mount("#app")},7151:function(t,e,a){},9644:function(t,e,a){},ada3:function(t,e,a){},c21b:function(t,e,a){},ce6d:function(t,e,a){"use strict";var r=a("7151"),o=a.n(r);o.a}});
//# sourceMappingURL=app.d93d50a0.js.map